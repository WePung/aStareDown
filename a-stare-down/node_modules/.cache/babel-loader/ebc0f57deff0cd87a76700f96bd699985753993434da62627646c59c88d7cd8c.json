{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uC9C0\\uC6D0\\\\Desktop\\\\LeeJiWon\\\\2025\\\\\\uB3D9\\uC591\\uBBF8\\uB798\\uB300\\uD559\\uAD50\\\\aStareDown\\\\a-stare-down\\\\src\\\\components\\\\main\\\\ViewCamera.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// MediaPipe 공식 문서 기준 정확한 눈 랜드마크 인덱스\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EYE_LEFT = [263, 249, 390, 373, 374, 380]; // 왼쪽 눈 (사용자 시점 기준)\nconst EYE_RIGHT = [33, 7, 163, 144, 145, 153]; // 오른쪽 눈\n\nfunction calculateEAR(landmarks, eyeIndices) {\n  const [p1, p2, p3, p4, p5, p6] = eyeIndices.map(i => landmarks[i]);\n  const vertical1 = Math.hypot(p2.x - p6.x, p2.y - p6.y);\n  const vertical2 = Math.hypot(p3.x - p5.x, p3.y - p5.y);\n  const horizontal = Math.hypot(p1.x - p4.x, p1.y - p4.y);\n  return (vertical1 + vertical2) / (2 * horizontal);\n}\n\n// 동적 임계값 설정을 위한 초기화 변수\nlet EAR_THRESHOLD = 0.25;\nlet CONSEC_FRAMES = 3; // 더 정확한 판정을 위해 프레임 수 증가\n\nconst ViewCamera = () => {\n  _s();\n  const videoRef = useRef(null);\n  const [blinkCount, setBlinkCount] = useState(0);\n  const [ear, setEar] = useState(0);\n  const [frameCounter, setFrameCounter] = useState(0);\n  const [isCalibrating, setIsCalibrating] = useState(true);\n\n  // MediaPipe 초기화\n  useEffect(() => {\n    let faceMesh = null;\n    let animationId = null;\n    const script = document.createElement(\"script\");\n    const initializeFaceMesh = async () => {\n      try {\n        faceMesh = new window.FaceMesh({\n          locateFile: file => {\n            // WASM 파일 로드 문제 해결\n            if (file.includes(\"_wasm\")) {\n              return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;\n            }\n            return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;\n          }\n        });\n        faceMesh.setOptions({\n          maxNumFaces: 1,\n          refineLandmarks: true,\n          minDetectionConfidence: 0.5,\n          minTrackingConfidence: 0.5,\n          selfieMode: true // 셀피 모드 활성화\n        });\n        faceMesh.onResults(onResults);\n        processFrame();\n      } catch (error) {\n        console.error(\"MediaPipe 초기화 실패:\", error);\n      }\n    };\n\n    // MediaPipe 스크립트 동적 로드\n    script.src = \"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js\";\n    script.async = true;\n    script.onload = initializeFaceMesh;\n    document.body.appendChild(script);\n\n    // 프레임 처리 루프\n    const processFrame = async () => {\n      var _videoRef$current;\n      if (((_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.readyState) === 4) {\n        try {\n          await faceMesh.send({\n            image: videoRef.current\n          });\n        } catch (error) {\n          console.error(\"프레임 처리 오류:\", error);\n        }\n      }\n      animationId = requestAnimationFrame(processFrame);\n    };\n\n    // 정리 함수\n    return () => {\n      if (animationId) cancelAnimationFrame(animationId);\n      if (faceMesh) faceMesh.close();\n      document.body.removeChild(script);\n    };\n  }, []);\n\n  // 웹캠 초기화\n  useEffect(() => {\n    const setupWebcam = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 640,\n            height: 480,\n            facingMode: \"user\"\n          }\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (error) {\n        console.error(\"웹캠 접근 오류:\", error);\n      }\n    };\n    setupWebcam();\n  }, []);\n\n  // 임계값 자동 보정\n  useEffect(() => {\n    if (isCalibrating) {\n      const samples = [];\n      const interval = setInterval(() => {\n        if (samples.length < 30) {\n          samples.push(ear);\n        } else {\n          const avg = samples.reduce((a, b) => a + b, 0) / samples.length;\n          EAR_THRESHOLD = avg * 0.7; // 개인별 최적화\n          setIsCalibrating(false);\n          clearInterval(interval);\n        }\n      }, 100);\n      return () => clearInterval(interval);\n    }\n  }, [ear, isCalibrating]);\n\n  // 결과 처리\n  const onResults = results => {\n    var _results$multiFaceLan;\n    if ((_results$multiFaceLan = results.multiFaceLandmarks) !== null && _results$multiFaceLan !== void 0 && _results$multiFaceLan[0]) {\n      const landmarks = results.multiFaceLandmarks[0];\n      const leftEAR = calculateEAR(landmarks, EYE_LEFT);\n      const rightEAR = calculateEAR(landmarks, EYE_RIGHT);\n      const avgEAR = (leftEAR + rightEAR) / 2;\n      setEar(avgEAR);\n\n      // 깜빡임 판정 로직\n      if (avgEAR < EAR_THRESHOLD) {\n        setFrameCounter(prev => prev + 1);\n      } else {\n        if (frameCounter >= CONSEC_FRAMES) {\n          setBlinkCount(prev => prev + 1);\n        }\n        setFrameCounter(0);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\",\n      maxWidth: 640,\n      margin: \"0 auto\",\n      backgroundColor: \"#1a1a1a\",\n      borderRadius: \"10px\",\n      overflow: \"hidden\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      style: {\n        width: \"100%\",\n        height: \"auto\",\n        transform: \"scaleX(-1)\" // 미러 모드\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: 20,\n        left: 20,\n        color: \"#fff\",\n        backgroundColor: \"rgba(0,0,0,0.7)\",\n        padding: \"10px 20px\",\n        borderRadius: 8,\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 18,\n          marginBottom: 5\n        },\n        children: [\"\\uD83D\\uDC41\\uFE0F Blink Count: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: blinkCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 14\n        },\n        children: [\"EAR: \", ear.toFixed(3), \" (Threshold: \", EAR_THRESHOLD.toFixed(3), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), isCalibrating && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#ffd700\",\n          fontSize: 12,\n          marginTop: 5\n        },\n        children: \"Calibrating...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), ear < EAR_THRESHOLD && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        fontSize: \"2em\",\n        fontWeight: \"bold\",\n        color: \"#ff4444\",\n        textShadow: \"0 2px 4px rgba(0,0,0,0.5)\",\n        animation: \"blink 1s infinite\"\n      },\n      children: \"BLINKING!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes blink {\n          0% { opacity: 1; }\n          50% { opacity: 0.3; }\n          100% { opacity: 1; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(ViewCamera, \"jQ6Ve7Ft/4olHHfMfzuY8ns43ts=\");\n_c = ViewCamera;\nexport default ViewCamera;\nvar _c;\n$RefreshReg$(_c, \"ViewCamera\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","EYE_LEFT","EYE_RIGHT","calculateEAR","landmarks","eyeIndices","p1","p2","p3","p4","p5","p6","map","i","vertical1","Math","hypot","x","y","vertical2","horizontal","EAR_THRESHOLD","CONSEC_FRAMES","ViewCamera","_s","videoRef","blinkCount","setBlinkCount","ear","setEar","frameCounter","setFrameCounter","isCalibrating","setIsCalibrating","faceMesh","animationId","script","document","createElement","initializeFaceMesh","window","FaceMesh","locateFile","file","includes","setOptions","maxNumFaces","refineLandmarks","minDetectionConfidence","minTrackingConfidence","selfieMode","onResults","processFrame","error","console","src","async","onload","body","appendChild","_videoRef$current","current","readyState","send","image","requestAnimationFrame","cancelAnimationFrame","close","removeChild","setupWebcam","stream","navigator","mediaDevices","getUserMedia","video","width","height","facingMode","srcObject","samples","interval","setInterval","length","push","avg","reduce","a","b","clearInterval","results","_results$multiFaceLan","multiFaceLandmarks","leftEAR","rightEAR","avgEAR","prev","style","position","maxWidth","margin","backgroundColor","borderRadius","overflow","children","ref","autoPlay","playsInline","transform","fileName","_jsxFileName","lineNumber","columnNumber","top","left","color","padding","boxShadow","fontSize","marginBottom","toFixed","marginTop","fontWeight","textShadow","animation","_c","$RefreshReg$"],"sources":["C:/Users/이지원/Desktop/LeeJiWon/2025/동양미래대학교/aStareDown/a-stare-down/src/components/main/ViewCamera.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n// MediaPipe 공식 문서 기준 정확한 눈 랜드마크 인덱스\r\nconst EYE_LEFT = [263, 249, 390, 373, 374, 380]; // 왼쪽 눈 (사용자 시점 기준)\r\nconst EYE_RIGHT = [33, 7, 163, 144, 145, 153]; // 오른쪽 눈\r\n\r\nfunction calculateEAR(landmarks, eyeIndices) {\r\n  const [p1, p2, p3, p4, p5, p6] = eyeIndices.map((i) => landmarks[i]);\r\n  const vertical1 = Math.hypot(p2.x - p6.x, p2.y - p6.y);\r\n  const vertical2 = Math.hypot(p3.x - p5.x, p3.y - p5.y);\r\n  const horizontal = Math.hypot(p1.x - p4.x, p1.y - p4.y);\r\n  return (vertical1 + vertical2) / (2 * horizontal);\r\n}\r\n\r\n// 동적 임계값 설정을 위한 초기화 변수\r\nlet EAR_THRESHOLD = 0.25;\r\nlet CONSEC_FRAMES = 3; // 더 정확한 판정을 위해 프레임 수 증가\r\n\r\nconst ViewCamera = () => {\r\n  const videoRef = useRef(null);\r\n  const [blinkCount, setBlinkCount] = useState(0);\r\n  const [ear, setEar] = useState(0);\r\n  const [frameCounter, setFrameCounter] = useState(0);\r\n  const [isCalibrating, setIsCalibrating] = useState(true);\r\n\r\n  // MediaPipe 초기화\r\n  useEffect(() => {\r\n    let faceMesh = null;\r\n    let animationId = null;\r\n    const script = document.createElement(\"script\");\r\n\r\n    const initializeFaceMesh = async () => {\r\n      try {\r\n        faceMesh = new window.FaceMesh({\r\n          locateFile: (file) => {\r\n            // WASM 파일 로드 문제 해결\r\n            if (file.includes(\"_wasm\")) {\r\n              return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;\r\n            }\r\n            return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;\r\n          },\r\n        });\r\n\r\n        faceMesh.setOptions({\r\n          maxNumFaces: 1,\r\n          refineLandmarks: true,\r\n          minDetectionConfidence: 0.5,\r\n          minTrackingConfidence: 0.5,\r\n          selfieMode: true, // 셀피 모드 활성화\r\n        });\r\n\r\n        faceMesh.onResults(onResults);\r\n        processFrame();\r\n      } catch (error) {\r\n        console.error(\"MediaPipe 초기화 실패:\", error);\r\n      }\r\n    };\r\n\r\n    // MediaPipe 스크립트 동적 로드\r\n    script.src =\r\n      \"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js\";\r\n    script.async = true;\r\n    script.onload = initializeFaceMesh;\r\n    document.body.appendChild(script);\r\n\r\n    // 프레임 처리 루프\r\n    const processFrame = async () => {\r\n      if (videoRef.current?.readyState === 4) {\r\n        try {\r\n          await faceMesh.send({ image: videoRef.current });\r\n        } catch (error) {\r\n          console.error(\"프레임 처리 오류:\", error);\r\n        }\r\n      }\r\n      animationId = requestAnimationFrame(processFrame);\r\n    };\r\n\r\n    // 정리 함수\r\n    return () => {\r\n      if (animationId) cancelAnimationFrame(animationId);\r\n      if (faceMesh) faceMesh.close();\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  // 웹캠 초기화\r\n  useEffect(() => {\r\n    const setupWebcam = async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: {\r\n            width: 640,\r\n            height: 480,\r\n            facingMode: \"user\",\r\n          },\r\n        });\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"웹캠 접근 오류:\", error);\r\n      }\r\n    };\r\n    setupWebcam();\r\n  }, []);\r\n\r\n  // 임계값 자동 보정\r\n  useEffect(() => {\r\n    if (isCalibrating) {\r\n      const samples = [];\r\n      const interval = setInterval(() => {\r\n        if (samples.length < 30) {\r\n          samples.push(ear);\r\n        } else {\r\n          const avg = samples.reduce((a, b) => a + b, 0) / samples.length;\r\n          EAR_THRESHOLD = avg * 0.7; // 개인별 최적화\r\n          setIsCalibrating(false);\r\n          clearInterval(interval);\r\n        }\r\n      }, 100);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [ear, isCalibrating]);\r\n\r\n  // 결과 처리\r\n  const onResults = (results) => {\r\n    if (results.multiFaceLandmarks?.[0]) {\r\n      const landmarks = results.multiFaceLandmarks[0];\r\n      const leftEAR = calculateEAR(landmarks, EYE_LEFT);\r\n      const rightEAR = calculateEAR(landmarks, EYE_RIGHT);\r\n      const avgEAR = (leftEAR + rightEAR) / 2;\r\n\r\n      setEar(avgEAR);\r\n\r\n      // 깜빡임 판정 로직\r\n      if (avgEAR < EAR_THRESHOLD) {\r\n        setFrameCounter((prev) => prev + 1);\r\n      } else {\r\n        if (frameCounter >= CONSEC_FRAMES) {\r\n          setBlinkCount((prev) => prev + 1);\r\n        }\r\n        setFrameCounter(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        maxWidth: 640,\r\n        margin: \"0 auto\",\r\n        backgroundColor: \"#1a1a1a\",\r\n        borderRadius: \"10px\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <video\r\n        ref={videoRef}\r\n        autoPlay\r\n        playsInline\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"auto\",\r\n          transform: \"scaleX(-1)\", // 미러 모드\r\n        }}\r\n      />\r\n\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 20,\r\n          left: 20,\r\n          color: \"#fff\",\r\n          backgroundColor: \"rgba(0,0,0,0.7)\",\r\n          padding: \"10px 20px\",\r\n          borderRadius: 8,\r\n          boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\",\r\n        }}\r\n      >\r\n        <div style={{ fontSize: 18, marginBottom: 5 }}>\r\n          👁️ Blink Count: <strong>{blinkCount}</strong>\r\n        </div>\r\n        <div style={{ fontSize: 14 }}>\r\n          EAR: {ear.toFixed(3)} (Threshold: {EAR_THRESHOLD.toFixed(3)})\r\n        </div>\r\n        {isCalibrating && (\r\n          <div\r\n            style={{\r\n              color: \"#ffd700\",\r\n              fontSize: 12,\r\n              marginTop: 5,\r\n            }}\r\n          >\r\n            Calibrating...\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {ear < EAR_THRESHOLD && (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            fontSize: \"2em\",\r\n            fontWeight: \"bold\",\r\n            color: \"#ff4444\",\r\n            textShadow: \"0 2px 4px rgba(0,0,0,0.5)\",\r\n            animation: \"blink 1s infinite\",\r\n          }}\r\n        >\r\n          BLINKING!\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        @keyframes blink {\r\n          0% { opacity: 1; }\r\n          50% { opacity: 0.3; }\r\n          100% { opacity: 1; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewCamera;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}