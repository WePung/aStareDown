{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uC9C0\\uC6D0\\\\Desktop\\\\LeeJiWon\\\\2025\\\\\\uB3D9\\uC591\\uBBF8\\uB798\\uB300\\uD559\\uAD50\\\\aStareDown\\\\a-stare-down\\\\src\\\\components\\\\main\\\\ViewCamera.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// MediaPipe 공식 문서 기준 눈 랜드마크 인덱스\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EYE_LEFT = [263, 249, 390, 373, 374, 380];\nconst EYE_RIGHT = [33, 7, 163, 144, 145, 153];\nfunction calculateEAR(landmarks, eyeIndices) {\n  const [p1, p2, p3, p4, p5, p6] = eyeIndices.map(i => landmarks[i]);\n  const vertical1 = Math.hypot(p2.x - p6.x, p2.y - p6.y);\n  const vertical2 = Math.hypot(p3.x - p5.x, p3.y - p5.y);\n  const horizontal = Math.hypot(p1.x - p4.x, p1.y - p4.y);\n  return (vertical1 + vertical2) / (2 * horizontal);\n}\nconst EAR_THRESHOLD = 0.25;\nconst CONSEC_FRAMES = 3;\nconst ViewCamera = () => {\n  _s();\n  const videoRef = useRef(null);\n  const [blinkCount, setBlinkCount] = useState(0);\n  const [ear, setEar] = useState(0);\n  const [frameCounter, setFrameCounter] = useState(0);\n  const [isInitialized, setIsInitialized] = useState(false);\n  useEffect(() => {\n    let faceMesh = null;\n    let animationFrameId = null;\n    let script = null;\n    const initializeMediaPipe = async () => {\n      // 1. MediaPipe UMD 버전 로드\n      await new Promise(resolve => {\n        script = document.createElement(\"script\");\n        script.src = \"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js\";\n        script.onload = resolve;\n        document.head.appendChild(script);\n      });\n\n      // 2. WASM 파일 경로 지정 (중요!)\n      window.Module = {\n        locateFile: path => `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${path}`\n      };\n\n      // 3. FaceMesh 인스턴스 생성\n      faceMesh = new window.FaceMesh({\n        locateFile: file => `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`\n      });\n      faceMesh.setOptions({\n        maxNumFaces: 1,\n        refineLandmarks: true,\n        minDetectionConfidence: 0.5,\n        minTrackingConfidence: 0.5,\n        selfieMode: true\n      });\n      faceMesh.onResults(results => {\n        var _results$multiFaceLan;\n        if ((_results$multiFaceLan = results.multiFaceLandmarks) !== null && _results$multiFaceLan !== void 0 && _results$multiFaceLan[0]) {\n          const landmarks = results.multiFaceLandmarks[0];\n          const leftEAR = calculateEAR(landmarks, EYE_LEFT);\n          const rightEAR = calculateEAR(landmarks, EYE_RIGHT);\n          const avgEAR = (leftEAR + rightEAR) / 2;\n          setEar(avgEAR);\n          if (avgEAR < EAR_THRESHOLD) {\n            setFrameCounter(prev => prev + 1);\n          } else {\n            if (frameCounter >= CONSEC_FRAMES) {\n              setBlinkCount(prev => prev + 1);\n            }\n            setFrameCounter(0);\n          }\n        }\n      });\n\n      // 4. 프레임 처리 루프\n      const processFrame = async () => {\n        var _videoRef$current;\n        if (((_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.readyState) === 4) {\n          try {\n            await faceMesh.send({\n              image: videoRef.current\n            });\n          } catch (error) {\n            console.error(\"프레임 처리 오류:\", error);\n          }\n        }\n        animationFrameId = requestAnimationFrame(processFrame);\n      };\n      processFrame();\n      setIsInitialized(true);\n    };\n    initializeMediaPipe().catch(console.error);\n    return () => {\n      if (animationFrameId) cancelAnimationFrame(animationFrameId);\n      if (faceMesh) faceMesh.close();\n      if (script) document.head.removeChild(script);\n    };\n  }, []);\n\n  // 웹캠 연결\n  useEffect(() => {\n    if (!isInitialized) return;\n    const constraints = {\n      video: {\n        width: {\n          ideal: 640\n        },\n        height: {\n          ideal: 480\n        },\n        facingMode: \"user\",\n        frameRate: {\n          ideal: 30\n        }\n      }\n    };\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        videoRef.current.onloadedmetadata = () => {\n          videoRef.current.play().catch(console.error);\n        };\n      }\n    }).catch(err => {\n      alert(\"웹캠 접근 오류: \" + err.message);\n    });\n  }, [isInitialized]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\",\n      maxWidth: 640,\n      margin: \"0 auto\",\n      backgroundColor: \"#1a1a1a\",\n      borderRadius: \"10px\",\n      overflow: \"hidden\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      style: {\n        width: \"100%\",\n        height: \"auto\",\n        transform: \"scaleX(-1)\" // 미러 모드\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: 20,\n        left: 20,\n        color: \"#fff\",\n        backgroundColor: \"rgba(0,0,0,0.7)\",\n        padding: \"10px 20px\",\n        borderRadius: 8,\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 18,\n          marginBottom: 5\n        },\n        children: [\"\\uD83D\\uDC41\\uFE0F Blink Count: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: blinkCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 14\n        },\n        children: [\"EAR: \", ear.toFixed(3), \" (Threshold: \", EAR_THRESHOLD, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), ear < EAR_THRESHOLD && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        fontSize: \"2em\",\n        fontWeight: \"bold\",\n        color: \"#ff4444\",\n        textShadow: \"0 2px 4px rgba(0,0,0,0.5)\",\n        animation: \"blink 1s infinite\"\n      },\n      children: \"BLINKING!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes blink {\n          0% { opacity: 1; }\n          50% { opacity: 0.3; }\n          100% { opacity: 1; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(ViewCamera, \"bF+7e0doJ6xNt2XhYOkwX3kVTJs=\");\n_c = ViewCamera;\nexport default ViewCamera;\nvar _c;\n$RefreshReg$(_c, \"ViewCamera\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","EYE_LEFT","EYE_RIGHT","calculateEAR","landmarks","eyeIndices","p1","p2","p3","p4","p5","p6","map","i","vertical1","Math","hypot","x","y","vertical2","horizontal","EAR_THRESHOLD","CONSEC_FRAMES","ViewCamera","_s","videoRef","blinkCount","setBlinkCount","ear","setEar","frameCounter","setFrameCounter","isInitialized","setIsInitialized","faceMesh","animationFrameId","script","initializeMediaPipe","Promise","resolve","document","createElement","src","onload","head","appendChild","window","Module","locateFile","path","FaceMesh","file","setOptions","maxNumFaces","refineLandmarks","minDetectionConfidence","minTrackingConfidence","selfieMode","onResults","results","_results$multiFaceLan","multiFaceLandmarks","leftEAR","rightEAR","avgEAR","prev","processFrame","_videoRef$current","current","readyState","send","image","error","console","requestAnimationFrame","catch","cancelAnimationFrame","close","removeChild","constraints","video","width","ideal","height","facingMode","frameRate","navigator","mediaDevices","getUserMedia","then","stream","srcObject","onloadedmetadata","play","err","alert","message","style","position","maxWidth","margin","backgroundColor","borderRadius","overflow","children","ref","autoPlay","playsInline","transform","fileName","_jsxFileName","lineNumber","columnNumber","top","left","color","padding","boxShadow","fontSize","marginBottom","toFixed","fontWeight","textShadow","animation","_c","$RefreshReg$"],"sources":["C:/Users/이지원/Desktop/LeeJiWon/2025/동양미래대학교/aStareDown/a-stare-down/src/components/main/ViewCamera.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n// MediaPipe 공식 문서 기준 눈 랜드마크 인덱스\r\nconst EYE_LEFT = [263, 249, 390, 373, 374, 380];\r\nconst EYE_RIGHT = [33, 7, 163, 144, 145, 153];\r\n\r\nfunction calculateEAR(landmarks, eyeIndices) {\r\n  const [p1, p2, p3, p4, p5, p6] = eyeIndices.map((i) => landmarks[i]);\r\n  const vertical1 = Math.hypot(p2.x - p6.x, p2.y - p6.y);\r\n  const vertical2 = Math.hypot(p3.x - p5.x, p3.y - p5.y);\r\n  const horizontal = Math.hypot(p1.x - p4.x, p1.y - p4.y);\r\n  return (vertical1 + vertical2) / (2 * horizontal);\r\n}\r\n\r\nconst EAR_THRESHOLD = 0.25;\r\nconst CONSEC_FRAMES = 3;\r\n\r\nconst ViewCamera = () => {\r\n  const videoRef = useRef(null);\r\n  const [blinkCount, setBlinkCount] = useState(0);\r\n  const [ear, setEar] = useState(0);\r\n  const [frameCounter, setFrameCounter] = useState(0);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let faceMesh = null;\r\n    let animationFrameId = null;\r\n    let script = null;\r\n\r\n    const initializeMediaPipe = async () => {\r\n      // 1. MediaPipe UMD 버전 로드\r\n      await new Promise((resolve) => {\r\n        script = document.createElement(\"script\");\r\n        script.src =\r\n          \"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js\";\r\n        script.onload = resolve;\r\n        document.head.appendChild(script);\r\n      });\r\n\r\n      // 2. WASM 파일 경로 지정 (중요!)\r\n      window.Module = {\r\n        locateFile: (path) =>\r\n          `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${path}`,\r\n      };\r\n\r\n      // 3. FaceMesh 인스턴스 생성\r\n      faceMesh = new window.FaceMesh({\r\n        locateFile: (file) =>\r\n          `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`,\r\n      });\r\n\r\n      faceMesh.setOptions({\r\n        maxNumFaces: 1,\r\n        refineLandmarks: true,\r\n        minDetectionConfidence: 0.5,\r\n        minTrackingConfidence: 0.5,\r\n        selfieMode: true,\r\n      });\r\n\r\n      faceMesh.onResults((results) => {\r\n        if (results.multiFaceLandmarks?.[0]) {\r\n          const landmarks = results.multiFaceLandmarks[0];\r\n          const leftEAR = calculateEAR(landmarks, EYE_LEFT);\r\n          const rightEAR = calculateEAR(landmarks, EYE_RIGHT);\r\n          const avgEAR = (leftEAR + rightEAR) / 2;\r\n          setEar(avgEAR);\r\n\r\n          if (avgEAR < EAR_THRESHOLD) {\r\n            setFrameCounter((prev) => prev + 1);\r\n          } else {\r\n            if (frameCounter >= CONSEC_FRAMES) {\r\n              setBlinkCount((prev) => prev + 1);\r\n            }\r\n            setFrameCounter(0);\r\n          }\r\n        }\r\n      });\r\n\r\n      // 4. 프레임 처리 루프\r\n      const processFrame = async () => {\r\n        if (videoRef.current?.readyState === 4) {\r\n          try {\r\n            await faceMesh.send({ image: videoRef.current });\r\n          } catch (error) {\r\n            console.error(\"프레임 처리 오류:\", error);\r\n          }\r\n        }\r\n        animationFrameId = requestAnimationFrame(processFrame);\r\n      };\r\n\r\n      processFrame();\r\n      setIsInitialized(true);\r\n    };\r\n\r\n    initializeMediaPipe().catch(console.error);\r\n\r\n    return () => {\r\n      if (animationFrameId) cancelAnimationFrame(animationFrameId);\r\n      if (faceMesh) faceMesh.close();\r\n      if (script) document.head.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  // 웹캠 연결\r\n  useEffect(() => {\r\n    if (!isInitialized) return;\r\n    const constraints = {\r\n      video: {\r\n        width: { ideal: 640 },\r\n        height: { ideal: 480 },\r\n        facingMode: \"user\",\r\n        frameRate: { ideal: 30 },\r\n      },\r\n    };\r\n    navigator.mediaDevices\r\n      .getUserMedia(constraints)\r\n      .then((stream) => {\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          videoRef.current.onloadedmetadata = () => {\r\n            videoRef.current.play().catch(console.error);\r\n          };\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert(\"웹캠 접근 오류: \" + err.message);\r\n      });\r\n  }, [isInitialized]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        maxWidth: 640,\r\n        margin: \"0 auto\",\r\n        backgroundColor: \"#1a1a1a\",\r\n        borderRadius: \"10px\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <video\r\n        ref={videoRef}\r\n        autoPlay\r\n        playsInline\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"auto\",\r\n          transform: \"scaleX(-1)\", // 미러 모드\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 20,\r\n          left: 20,\r\n          color: \"#fff\",\r\n          backgroundColor: \"rgba(0,0,0,0.7)\",\r\n          padding: \"10px 20px\",\r\n          borderRadius: 8,\r\n          boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\",\r\n        }}\r\n      >\r\n        <div style={{ fontSize: 18, marginBottom: 5 }}>\r\n          👁️ Blink Count: <strong>{blinkCount}</strong>\r\n        </div>\r\n        <div style={{ fontSize: 14 }}>\r\n          EAR: {ear.toFixed(3)} (Threshold: {EAR_THRESHOLD})\r\n        </div>\r\n      </div>\r\n      {ear < EAR_THRESHOLD && (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            fontSize: \"2em\",\r\n            fontWeight: \"bold\",\r\n            color: \"#ff4444\",\r\n            textShadow: \"0 2px 4px rgba(0,0,0,0.5)\",\r\n            animation: \"blink 1s infinite\",\r\n          }}\r\n        >\r\n          BLINKING!\r\n        </div>\r\n      )}\r\n      <style>{`\r\n        @keyframes blink {\r\n          0% { opacity: 1; }\r\n          50% { opacity: 0.3; }\r\n          100% { opacity: 1; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewCamera;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}